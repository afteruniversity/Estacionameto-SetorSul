# ğŸ…¿ï¸ Estacionamento Setor Sul API

Sistema de gerenciamento de estacionamento com autenticaÃ§Ã£o JWT, gestÃ£o de usuÃ¡rios e endereÃ§os.

```
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•”â•â•â•  â•šâ•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•   â•šâ•â•   â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â•â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•â•   â•šâ•â•    â•šâ•â•â•â•â•â• 
                                        SETOR SUL API
```

## âœ¨ Funcionalidades

- ğŸ” **AutenticaÃ§Ã£o JWT** - Sistema completo de login/registro com tokens seguros
- ğŸ‘¤ **GestÃ£o de UsuÃ¡rios** - CRUD completo com paginaÃ§Ã£o e busca avanÃ§ada
- ğŸ  **GestÃ£o de EndereÃ§os** - MÃºltiplos endereÃ§os por usuÃ¡rio
- ğŸ” **Busca AvanÃ§ada** - Busca por mÃºltiplas colunas com paginaÃ§Ã£o
- ğŸ“ **Swagger/OpenAPI** - DocumentaÃ§Ã£o interativa da API
- ğŸ”’ **SeguranÃ§a** - Hash de senhas com BCrypt, soft delete
- ğŸ¥ **Health Checks** - Monitoramento de saÃºde da API e banco de dados
- âš¡ **Alta Performance** - Connection pooling e retry policies

## ğŸš€ Tecnologias

- **.NET 8** - Framework principal
- **PostgreSQL** - Banco de dados relacional
- **Entity Framework Core 8** - ORM
- **JWT Bearer** - AutenticaÃ§Ã£o
- **BCrypt.Net** - Hash de senhas
- **Swagger/OpenAPI** - DocumentaÃ§Ã£o

## ğŸ“‹ PrÃ©-requisitos

- [.NET 8 SDK](https://dotnet.microsoft.com/download/dotnet/8.0)
- [PostgreSQL 12+](https://www.postgresql.org/download/)
- Editor de cÃ³digo (VS Code, Visual Studio, Rider)

## ğŸ”§ InstalaÃ§Ã£o

### 1. Clone o repositÃ³rio

```bash
git clone https://github.com/afteruniversity/Estacionameto-SetorSul.git
cd Estacionameto-SetorSul
```

### 2. Configure as variÃ¡veis de ambiente

Edite `appsettings.Development.json`:

```json
{
  "ConnectionStrings": {
    "DefaultConnection": "Host=localhost;Database=estacionamento_setor_sul;Username=seu_usuario;Password=sua_senha"
  },
  "JwtSettings": {
    "Secret": "sua-chave-secreta-minimo-32-caracteres-mude-em-producao",
    "Issuer": "EstacionamentoSetorSulAPI",
    "Audience": "EstacionamentoSetorSulUsers",
    "ExpirationInMinutes": 60
  }
}
```

### 3. Instale as dependÃªncias

```bash
dotnet restore
```

### 4. Execute a aplicaÃ§Ã£o

```bash
export ASPNETCORE_ENVIRONMENT=Development  # Linux/Mac
# ou
$env:ASPNETCORE_ENVIRONMENT="Development"  # Windows PowerShell

dotnet run
```

### 5. Acesse a documentaÃ§Ã£o

Navegue para: `https://localhost:5229/skeleton/docs`

## ğŸ“š DocumentaÃ§Ã£o da API

### AutenticaÃ§Ã£o

| MÃ©todo | Endpoint | DescriÃ§Ã£o | Auth |
|--------|----------|-----------|------|
| POST | `/api/auth/register` | Registrar novo usuÃ¡rio | NÃ£o |
| POST | `/api/auth/login` | Login e obter token JWT | NÃ£o |
| POST | `/api/auth/logout` | Invalidar token | Sim |
| GET | `/api/auth/me` | Obter dados do usuÃ¡rio atual | Sim |

### UsuÃ¡rios

| MÃ©todo | Endpoint | DescriÃ§Ã£o | Auth |
|--------|----------|-----------|------|
| GET | `/api/user` | Listar usuÃ¡rios (paginado) | Sim |
| GET | `/api/user/{id}` | Buscar usuÃ¡rio por ID | Sim |
| GET | `/api/user/{id}/with-enderecos` | Buscar usuÃ¡rio com endereÃ§os | Sim |
| GET | `/api/user/email/{email}` | Buscar por email | Sim |
| GET | `/api/user/username/{username}` | Buscar por username | Sim |
| POST | `/api/user` | Criar usuÃ¡rio | Sim |
| PUT | `/api/user/{id}` | Atualizar usuÃ¡rio | Sim |
| PATCH | `/api/user/{id}/toggle-active` | Ativar/desativar usuÃ¡rio | Sim |
| DELETE | `/api/user/{id}` | Deletar usuÃ¡rio (soft delete) | Sim |

### EndereÃ§os

| MÃ©todo | Endpoint | DescriÃ§Ã£o | Auth |
|--------|----------|-----------|------|
| GET | `/api/enderecousuario/my-enderecos` | Buscar meus endereÃ§os | Sim |
| GET | `/api/enderecousuario/user/{userId}` | Buscar endereÃ§os de um usuÃ¡rio | Sim |
| GET | `/api/enderecousuario/{id}` | Buscar endereÃ§o por ID | Sim |
| POST | `/api/enderecousuario` | Criar endereÃ§o | Sim |
| PUT | `/api/enderecousuario/{id}` | Atualizar endereÃ§o | Sim |
| DELETE | `/api/enderecousuario/{id}` | Deletar endereÃ§o | Sim |

### Health Check

| MÃ©todo | Endpoint | DescriÃ§Ã£o |
|--------|----------|-----------|
| GET | `/health` | Status da API |

## ğŸ”‘ Exemplos de Uso

### 1. Registrar usuÃ¡rio

```bash
POST /api/auth/register
Content-Type: application/json

{
  "username": "joaosilva",
  "email": "joao@example.com",
  "password": "SenhaSegura123!",
  "firstName": "JoÃ£o",
  "lastName": "Silva"
}
```

### 2. Login

```bash
POST /api/auth/login
Content-Type: application/json

{
  "email": "john@teste.com",
  "password": "123"
}
```

**Resposta:**
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "username": "joaosilva",
  "email": "joao@example.com",
  "expiresAt": "2025-12-16T10:30:00Z"
}
```
